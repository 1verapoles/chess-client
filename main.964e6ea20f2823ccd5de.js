(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{188:function(e,t,n){var a={"./af":33,"./af.js":33,"./ar":34,"./ar-dz":35,"./ar-dz.js":35,"./ar-kw":36,"./ar-kw.js":36,"./ar-ly":37,"./ar-ly.js":37,"./ar-ma":38,"./ar-ma.js":38,"./ar-sa":39,"./ar-sa.js":39,"./ar-tn":40,"./ar-tn.js":40,"./ar.js":34,"./az":41,"./az.js":41,"./be":42,"./be.js":42,"./bg":43,"./bg.js":43,"./bm":44,"./bm.js":44,"./bn":45,"./bn.js":45,"./bo":46,"./bo.js":46,"./br":47,"./br.js":47,"./bs":48,"./bs.js":48,"./ca":49,"./ca.js":49,"./cs":50,"./cs.js":50,"./cv":51,"./cv.js":51,"./cy":52,"./cy.js":52,"./da":53,"./da.js":53,"./de":54,"./de-at":55,"./de-at.js":55,"./de-ch":56,"./de-ch.js":56,"./de.js":54,"./dv":57,"./dv.js":57,"./el":58,"./el.js":58,"./en-SG":59,"./en-SG.js":59,"./en-au":60,"./en-au.js":60,"./en-ca":61,"./en-ca.js":61,"./en-gb":62,"./en-gb.js":62,"./en-ie":63,"./en-ie.js":63,"./en-il":64,"./en-il.js":64,"./en-nz":65,"./en-nz.js":65,"./eo":66,"./eo.js":66,"./es":67,"./es-do":68,"./es-do.js":68,"./es-us":69,"./es-us.js":69,"./es.js":67,"./et":70,"./et.js":70,"./eu":71,"./eu.js":71,"./fa":72,"./fa.js":72,"./fi":73,"./fi.js":73,"./fo":74,"./fo.js":74,"./fr":75,"./fr-ca":76,"./fr-ca.js":76,"./fr-ch":77,"./fr-ch.js":77,"./fr.js":75,"./fy":78,"./fy.js":78,"./ga":79,"./ga.js":79,"./gd":80,"./gd.js":80,"./gl":81,"./gl.js":81,"./gom-latn":82,"./gom-latn.js":82,"./gu":83,"./gu.js":83,"./he":84,"./he.js":84,"./hi":85,"./hi.js":85,"./hr":86,"./hr.js":86,"./hu":87,"./hu.js":87,"./hy-am":88,"./hy-am.js":88,"./id":89,"./id.js":89,"./is":90,"./is.js":90,"./it":91,"./it-ch":92,"./it-ch.js":92,"./it.js":91,"./ja":93,"./ja.js":93,"./jv":94,"./jv.js":94,"./ka":95,"./ka.js":95,"./kk":96,"./kk.js":96,"./km":97,"./km.js":97,"./kn":98,"./kn.js":98,"./ko":99,"./ko.js":99,"./ku":100,"./ku.js":100,"./ky":101,"./ky.js":101,"./lb":102,"./lb.js":102,"./lo":103,"./lo.js":103,"./lt":104,"./lt.js":104,"./lv":105,"./lv.js":105,"./me":106,"./me.js":106,"./mi":107,"./mi.js":107,"./mk":108,"./mk.js":108,"./ml":109,"./ml.js":109,"./mn":110,"./mn.js":110,"./mr":111,"./mr.js":111,"./ms":112,"./ms-my":113,"./ms-my.js":113,"./ms.js":112,"./mt":114,"./mt.js":114,"./my":115,"./my.js":115,"./nb":116,"./nb.js":116,"./ne":117,"./ne.js":117,"./nl":118,"./nl-be":119,"./nl-be.js":119,"./nl.js":118,"./nn":120,"./nn.js":120,"./pa-in":121,"./pa-in.js":121,"./pl":122,"./pl.js":122,"./pt":123,"./pt-br":124,"./pt-br.js":124,"./pt.js":123,"./ro":125,"./ro.js":125,"./ru":126,"./ru.js":126,"./sd":127,"./sd.js":127,"./se":128,"./se.js":128,"./si":129,"./si.js":129,"./sk":130,"./sk.js":130,"./sl":131,"./sl.js":131,"./sq":132,"./sq.js":132,"./sr":133,"./sr-cyrl":134,"./sr-cyrl.js":134,"./sr.js":133,"./ss":135,"./ss.js":135,"./sv":136,"./sv.js":136,"./sw":137,"./sw.js":137,"./ta":138,"./ta.js":138,"./te":139,"./te.js":139,"./tet":140,"./tet.js":140,"./tg":141,"./tg.js":141,"./th":142,"./th.js":142,"./tl-ph":143,"./tl-ph.js":143,"./tlh":144,"./tlh.js":144,"./tr":145,"./tr.js":145,"./tzl":146,"./tzl.js":146,"./tzm":147,"./tzm-latn":148,"./tzm-latn.js":148,"./tzm.js":147,"./ug-cn":149,"./ug-cn.js":149,"./uk":150,"./uk.js":150,"./ur":151,"./ur.js":151,"./uz":152,"./uz-latn":153,"./uz-latn.js":153,"./uz.js":152,"./vi":154,"./vi.js":154,"./x-pseudo":155,"./x-pseudo.js":155,"./yo":156,"./yo.js":156,"./zh-cn":157,"./zh-cn.js":157,"./zh-hk":158,"./zh-hk.js":158,"./zh-tw":159,"./zh-tw.js":159};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=188},190:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(160),o=n.n(i),s=n(161),c=n.n(s),l=n(18),u=n.n(l),d=n(11),p=n(23),m=n(3),f=n(191),g=n(4),v=n.n(g),y="localhost"===location.hostname,h=y?0:2,k=y&&!1?"ws://localhost:3000":"wss://chess-socket.herokuapp.com",b=y?"http://localhost:9000":"https://chess-functions.netlify.app/.netlify/functions",S=0,x=1,w=["white","black"],E=["w","b"],j="king",O="rook",I=[O,"knight","bishop"],C=[].concat(I,["queen"]),P=[j].concat(v()(I.reverse())),L=1,M=50,T=n(12),N=n.n(T),A=n(16),_=n.n(A),G=n(20);function D(){return"undefined"!=typeof Worker}function z(){return{name:G.b,version:G.d,repository:G.c.url,author:G.a}}function W(e){var t="";switch(e.type){default:t=e.type.substring(0,1);break;case"knight":t="n"}switch(e.player){default:return t;case 0:return t.toUpperCase()}}function V(e){return H.apply(this,arguments)}function H(){return(H=_()(N.a.mark((function e(t){var n,a,r,i,o,s,c,l,u,d,p=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:"get",a=p.length>2&&void 0!==p[2]?p[2]:"game",r=t.map((function(e){return"".concat(e.name,"=").concat(e.value)})).join("&"),e.prev=3,i="".concat(b,"/").concat(a),e.next=7,fetch("".concat(i,"?").concat(r),{method:n});case 7:if(!(o=e.sent)){e.next=40;break}s=o.status,e.t0=a,e.next="game"===e.t0?15:13;break;case 13:return console.error("Unhandled endpoint: ".concat(i)),e.abrupt("return");case 15:e.t1=n,e.next="get"===e.t1?20:"post"===e.t1?31:18;break;case 18:return console.error("Unhandled method: ".concat(n," ").concat(i)),e.abrupt("return");case 20:e.t2=s,e.next=200===e.t2?25:23;break;case 23:return console.warn("API responded with status code ".concat(s,".")),e.abrupt("return");case 25:return e.next=27,o.json();case 27:return c=e.sent,l=JSON.parse(c.text),u=l,e.abrupt("return",{gameData:u,oid:c.oid});case 31:e.t3=s,e.next=200===e.t3?36:34;break;case 34:return console.warn("API responded with status code ".concat(s,".")),e.abrupt("return");case 36:return e.next=38,o.json();case 38:return d=e.sent,e.abrupt("return",{oid:d.oid});case 40:return e.abrupt("return");case 43:return e.prev=43,e.t4=e.catch(3),console.error({error:e.t4}),e.abrupt("return");case 47:case"end":return e.stop()}}),e,null,[[3,43]])})))).apply(this,arguments)}var R=z(),B=function(){var e=Object(a.useState)(""),t=u()(e,2),n=t[0],i=t[1];return r.a.createElement(K,null,r.a.createElement("h1",null,R.name),r.a.createElement(U,null,r.a.createElement(q,{to:"/game/new"},"New Game"),r.a.createElement("div",null,r.a.createElement(q,{to:n&&"/game/".concat(n)},"Load Game:")," ",r.a.createElement("input",{placeholder:"Enter game identifier.",value:n,onChange:function(e){return i(e.target.value)}})),r.a.createElement(F,{href:R.repository},"Source Code")))},K=m.c.div.withConfig({displayName:"Home__View",componentId:"sc-1m3v609-0"})(["display:flex;justify-content:center;flex-direction:column;align-items:center;min-height:100vh;user-select:none;color:",";"],(function(e){return e.theme.color1})),U=m.c.div.withConfig({displayName:"Home__Menu",componentId:"sc-1m3v609-1"})(["display:flex;justify-content:space-around;flex-direction:column;align-items:center;"]),q=Object(m.c)(p.b).withConfig({displayName:"Home__MenuItem",componentId:"sc-1m3v609-2"})(["padding-top:1rem;padding-bottom:1rem;"]),F=m.c.a.withConfig({displayName:"Home__ExternalMenuItem",componentId:"sc-1m3v609-3"})(["padding-top:1rem;padding-bottom:1rem;"]),Y=n(8),X=n.n(Y),J=n(9),Q=n.n(J),Z=n(166),$=n.n(Z),ee=n(167),te=n.n(ee),ne=n(5),ae=n.n(ne),re=n(168),ie=n.n(re),oe=n(2),se=n.n(oe),ce=n(1),le=n.n(ce),ue=n(14),de=n.n(ue),pe=n(169),me=n.n(pe),fe=n(21),ge=n.n(fe);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){se()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=null,ke=new(function(){function e(){if(X()(this,e),he)return he}return Q()(e,[{key:"init",value:function(e){var t=this,n=e.eventHandler,a=void 0===n?function(){}:n,r=e.debugLevel,i=void 0===r?h:r;return this.debugLevel=i,this.eventHandler=a,this.worker=new Worker("stockfish.js"),this.worker.onmessage=function(e){var n=e.data;return t.onMessage(n)},this.sendRawCommand("uci"),this.sendRawCommand("isready"),this.depth=14,this.options=[],he=this}},{key:"startGame",value:function(){this.sendRawCommand("ucinewgame"),this.sendRawCommand("isready")}},{key:"sendRawCommand",value:function(e){this.worker.postMessage(e)}},{key:"sortOptions",value:function(e){return[{name:"Depth",value:this.depth,type:"spin",min:L,max:M}].concat(v()(e)).sort((function(e,t){return"Skill Level"===e.name?-1:"Skill Level"===t.name?1:"button"!==e.type&&"button"===t.type?-1:"button"===e.type&&"button"!==t.type?1:"check"!==e.type&&"check"===t.type?-1:"check"===e.type&&"check"!==t.type?1:0}))}},{key:"onMessage",value:function(t){switch(t){default:if(!t)return;var n=e.responseParser(t);if(e.isIgnoredMessage(n))return;if("STOCKFISH_GET_OPTION"===n.event){n.event;var a=de()(n,["event"]);if(this.options=[].concat(v()(this.options),[ye({},a)]),"Skill Level"===a.name){var r=ye({},a),i=Math.ceil((r.max-r.min)/2);r.value=i,this.setOption(r)}if("Ponder"===a.name){var o=ye({},a);o.value=!1,this.setOption(o)}}return void this.emitEvent(n);case"uciok":return this.options=this.sortOptions(this.options),void this.emitEvent({event:"STOCKFISH_INIT",debugLevel:1});case"readyok":return void this.emitEvent({event:"STOCKFISH_READY",debugLevel:1})}}},{key:"emitEvent",value:function(e){var t=e.debugLevel,n=de()(e,["debugLevel"]);Number(t||0)>=this.debugLevel&&("STOCKFISH_UNKNOWN"===n.event?console.error(n):console.log(n)),this.eventHandler(n)}},{key:"computeNextMove",value:function(e,t){var n="";n=t?"position fen ".concat(t):"position startpos moves ".concat(e),this.sendRawCommand(n),this.sendRawCommand("go depth ".concat(this.depth))}},{key:"getOption",value:function(e){return this.options.find((function(t){return t.name===e}))}},{key:"setOption",value:function(e){var t=e.name,n=e.value,a=!1;if("Depth"===t)this.depth=n,a=!0;else{var r=this.getOption(t);if(!r)return void console.error("Option '".concat(t,"' not found."));if(r.value!==n){var i="setoption name ".concat(t," value ").concat(String(n));this.sendRawCommand(i),this.sendRawCommand("go"),a=!0}}if(a)for(var o=0;o<this.options.length;o++){var s=this.options[o];if(s.name===t){s.value=n,this.options[o]=s;break}}}}],[{key:"isIgnoredMessage",value:function(e){return"Stockfish"===e.firstWord||("Debug Log File"===e.name||("Threads"===e.name||("Hash"===e.name||("Clear Hash"===e.name||("nodestime"===e.name||"Move Overhead"===e.name)))))}},{key:"responseParser",value:function(e){var t,n=e.split(" "),a=ge()(n),r=a[0],i=a[1],o=a.slice(2);if("id"===r)return t={event:"STOCKFISH_ENGINE"},se()(t,i,o.join(" ")),se()(t,"debugLevel",0),t;if("option"===r&&"name"===i){for(var s="",c=0,l=o[c];"type"!==l;)s+=l+" ",l=o[++c];s=s.substring(0,s.length-1);var u=o.slice(c+1,o.length),d=ge()(u),p=d[0],m=d.slice(1),f=null,g={},v=[];if(m.length){var y=m[1];switch(p){default:break;case"string":f=y;break;case"check":f=Boolean(y);break;case"spin":f=Number(y);break;case"combo":f=y}var h=m.slice(2,m.length);if("spin"===p&&(g={min:Number(h[1]),max:Number(h[3])}),"combo"===p)for(var k=ge()(m),b=(k[0],k[1],k.slice(2)),S=0,x=b[S];"var"===x;)v.push(b[S+1]),x=b[S+=2]}return ye({event:"STOCKFISH_GET_OPTION",name:s,type:p},null!==f&&{value:f},{},g,{},v.length>0&&{select:v},{debugLevel:0})}if("info"===r&&"depth"===i){var w=ge()(o),E=w[0],j=w.slice(1);return{event:"STOCKFISH_GET_DEPTH",depth:Number(E),analysis:j,debugLevel:0}}return"bestmove"===r?{event:"STOCKFISH_MOVE",move:i,debugLevel:1}:{event:"STOCKFISH_UNKNOWN",firstWord:r,message:e,debugLevel:10}}}]),e}());function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){se()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=function(){function e(){X()(this,e),this.pureAlgebraicNotation="",this.moves=[],this.movesAlgebraicNotation=[]}return Q()(e,[{key:"parseMoveToPureAlgebraicNotation",value:function(e){var t=e.from,n=e.to,a=String.fromCharCode(97+t.x),r=8-t.y,i=String.fromCharCode(97+n.x),o=8-n.y,s="".concat(a).concat(r).concat(i).concat(o);return this.pureAlgebraicNotation?" ".concat(s):s}},{key:"parsePureAlgebraicNotationToMove",value:function(e){return{from:{x:e[0].charCodeAt()-97,y:Number(8-e[1])},to:{x:e[2].charCodeAt()-97,y:Number(8-e[3])}}}},{key:"addEntry",value:function(e){var t=Object(f.a)(),n=e.from,a=e.to,r=e.player,i=e.piece,o=e.endGame;this.moves=[].concat(v()(this.moves),[Se({id:t},e)]);var s=this.parseMoveToPureAlgebraicNotation({from:n,to:a});this.movesAlgebraicNotation=[].concat(v()(this.movesAlgebraicNotation),[Se({id:t,string:s,player:r,piece:i},o&&{endGame:o})]),this.pureAlgebraicNotation+=s}}]),e}();function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ee=function(){function e(t){var n=t.id,a=t.type,r=t.x,i=t.y,o=t.player,s=t.firstMove,c=t.queenSide,l=t.kingSide;X()(this,e),this.id=n,this.type=a,this.x=r,this.y=i,this.player=o,this.firstMove=s,this.queenSide=c,this.kingSide=l}return Q()(e,[{key:"debug",get:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){se()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this,{playerColor:w[this.player],xColumn:["a","b","c","d","e","f","g","h"][this.x],yRow:7-this.y+1})}},{key:"canCastlePrerequisites",get:function(){return this.firstMove&&[j,O].includes(this.type)}}]),e}();function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){se()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}me()(le.a);var Ie=function(){function e(t){var n=this,a=t.artificialIntelligenceViewEventHandler,r=t.firstPlayerId;X()(this,e),se()(this,"practice",!1),se()(this,"newGame",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gameId;t&&(n.gameId=t);var a=[];[S,x].forEach((function(e){[C,P].forEach((function(t,n,r){var i=0;r[n-1]&&(i=r[n-1].length*n),t.forEach((function(t,n){var r=new Ee({id:Object(f.a)(),x:i+n,y:e?0:7,player:e,type:t,firstMove:t===O||t===j||void 0,queenSide:0===n,kingSide:0!==n}),o=new Ee({id:Object(f.a)(),x:i+n,y:e?1:6,player:e,type:"pawn",firstMove:!0,queenSide:0===n,kingSide:0!==n});a.push(o),a.push(r)}))}))})),n.pieces=a,D()&&n.artificialIntelligence.startGame()})),se()(this,"export",(function(){var e=z().version;return JSON.stringify({gameVersion:e,gameId:n.gameId,gameSavedAt:le()(),gameStartedAt:n.gameStartedAt,gameEndedAt:n.gameEndedAt,totalTimePlayed:n.totalTimePlayed,players:n.players,currentTurn:n.currentTurn,pieces:n.pieces,removedPieces:n.removedPieces,enPassantTarget:n.enPassantTarget,moves:n.moves,allowNoKing:n.allowNoKing,aiSettings:n.aiSettings.map((function(e){return{name:e.name,value:e.value}}))},null,"\t")})),se()(this,"import",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.resumeGame,r=void 0!==a&&a,i=t.noConsoleOutput,o=void 0!==i&&i,s=null;try{s=JSON.parse(e)}catch(t){s=e}if(s){n.gameVersion=s.gameVersion,n.gameId=s.gameId,n.gameStatus=s.gameStatus,n.gameStartedAt=le()(s.gameStartedAt),n.gameEndedAt=s.gameEndedAt?le()(s.gameEndedAt):null,n.lastSessionTimeUpdate=null,n.totalTimePlayed=le.a.duration(s.totalTimePlayed,"milliseconds"),n.currentTurn=s.currentTurn,n.pieces=s.pieces.map((function(e){return new Ee(e)})),n.removedPieces=s.removedPieces,n.moves=s.moves&&s.moves,n.players=s.players,n.enPassantTarget=s.enPassantTarget,n.allowNoKing=s.allowNoKing,n.aiSettings=s.aiSettings,o||console.log("Loading game '".concat(n.gameId,"' (game version: ").concat(n.gameVersion,"). Turn: ").concat(n.currentTurn,". Time played: ").concat(n.totalTimePlayed.format("hh:mm:ss",{trim:!1}),". Last saved on ").concat(s.gameSavedAt,".")),r?n.resume():n.startArtificialIntelligenceTurn();var c=n.isGameEnd({player:n.currentPlayer===S?x:S});c&&(n.gameStatus=c,n.gameEndedAt=le()())}else console.warn("Import data is empty.")})),se()(this,"updateTimePlayed",(function(){if(!n.gameEndedAt&&n.lastSessionTimeUpdate){var e=le.a.duration(le()().diff(n.lastSessionTimeUpdate),"milliseconds");n.lastSessionTimeUpdate=le()(),n.totalTimePlayed=n.totalTimePlayed.add(e)}})),se()(this,"pause",(function(){n.lastSessionTimeUpdate=null})),se()(this,"resume",(function(){n.lastSessionTimeUpdate=le()(),n.startArtificialIntelligenceTurn()})),se()(this,"nextTurn",(function(){y&&n.practice?n.currentTurn+=2:n.currentTurn+=1,setTimeout((function(){n.unselect()}),500),n.startArtificialIntelligenceTurn()})),se()(this,"recordMove",(function(e){var t=Oe({},e,{player:n.currentPlayer});n.gameLog.addEntry(t)})),se()(this,"getFirstPiece",(function(e){var t=e.type,a=e.player;return n.pieces.find((function(e){return e.type===t&&e.player===a}))})),se()(this,"getPieceAt",(function(e){var t=e.x,a=e.y;return n.pieces.find((function(e){return e.x===t&&e.y===a}))})),se()(this,"hasPieceAt",(function(e){var t=e.x,a=e.y;return n.pieces.some((function(e){return e.x===t&&e.y===a}))})),se()(this,"removePiece",(function(e){var t=[];n.pieces.forEach((function(n){n.id!==e.id&&t.push(n)})),n.pieces=t;var a=n.removedPieces[e.player],r=[].concat(v()(a),[e]),i=n.removedPieces[Number(!e.player)];0===e.player?n.removedPieces=[r,i]:n.removedPieces=[i,r]})),se()(this,"select",(function(e){var t=e.x,a=e.y,r=!1;if(n.gameEndedAt||!n.lastSessionTimeUpdate)return r;var i=n.getPieceAt({x:t,y:a});if(i){i.x,i.y;var o=de()(i,["x","y"]);n.selected={x:t,y:a,piece:o},r=!0}else n.selected={x:t,y:a};return r})),se()(this,"unselect",(function(){n.selected=null})),se()(this,"isSelectedSquare",(function(e){var t=e.x,a=e.y;return!!n.selected&&(n.selected.x===t&&n.selected.y===a)})),se()(this,"isPawnCapturing",(function(e){var t=e.x,a=e.y,r=e.vectorX;return e.vectorY===e.direction&&(1===r||-1===r)&&n.hasPieceAt({x:t,y:a})})),se()(this,"isPawnMoving",(function(e){var t=e.x,a=e.y,r=e.vectorX,i=e.vectorY,o=e.firstMove,s=e.direction;return!n.hasPieceAt({x:t,y:a})&&(1===s?i>0&&i<=1+o&&0===r:i<0&&i>=-1-o&&0===r)})),se()(this,"isEnPassant",(function(e){var t=e.x,a=e.y,r=e.vectorX,i=e.vectorY,o=e.direction;if(n.enPassantTarget&&i===o&&(1===r||-1===r)){var s=a-o,c=n.hasPieceAt({x:t,y:s});return console.warn({enPassant:c}),c}return!1})),se()(this,"isBishopPattern",(function(e){var t=e.vectorX,n=e.vectorY;return Math.abs(t)===Math.abs(n)})),se()(this,"isBishopMoveFree",(function(e){var t=e.origin,a=e.destination,r=e.vector;return!n.pieces.some((function(e){if(e.id===t.id)return!1;var n={x:e.x-t.x,y:e.y-t.y};if(Math.abs(n.x)===Math.abs(n.y)){var i=!1,o=!1;return i=r.x>0?e.x<a.x&&e.x>t.x:e.x>a.x&&e.x<t.x,o=r.y>0?e.y<a.y&&e.y>t.y:e.y>a.y&&e.y<t.y,i&&o}return!1}))})),se()(this,"isRookPattern",(function(e){var t=e.vectorX,n=e.vectorY;return 0===t&&0!==n||0!==t&&0===n})),se()(this,"isRookMoveFree",(function(e){var t=e.origin,a=e.vector,r=a.x?"y":"x",i=a.x?"x":"y",o=t[r],s=t[i]+a[i];return!n.pieces.some((function(e){return e[r]===o&&e.id!==t.id&&(a[i]>0&&e[i]>t[i]&&e[i]<s||a[i]<0&&e[i]<t[i]&&e[i]>s)}))})),se()(this,"isKingPattern",(function(e){var t=e.vectorX,n=e.vectorY;return t>=-1&&t<=1&&n>=-1&&n<=1})),se()(this,"isCastlePattern",(function(e){var t=e.vectorX,n=e.vectorY;return 2===Math.abs(t)&&0===n})),se()(this,"performCastle",(function(e){var t=e.castleVectorX,a=e.selectedPiece,r=e.destination,i=e.from,o=n.currentPlayer===S?7:0,s=t>0?7:0,c=t>0?-1:1,l=n.pieces.find((function(e){return e.type===O&&e.player===a.player&&e.firstMove&&e.x===s}));return!!l&&(!(t>0?[5,6]:[1,2,3]).map((function(e){return n.hasPieceAt({x:e,y:o})||n.isKingInCheck({x:e,y:o})})).some((function(e){return e}))&&(n.pieces=n.pieces.map((function(e){return e.id===a.id?new Ee(Oe({},a,{x:r.x,y:r.y,firstMove:!1})):e.id===l.id?new Ee(Oe({},l,{x:r.x+c,firstMove:!1})):e})),n.recordMove({piece:{id:a.id,type:a.type},from:i,to:r}),n.nextTurn(),!0))})),se()(this,"isPiecePattern",(function(e){var t=e.destination,a=t.x,r=t.y,i=e.origin,o=e.type,s=e.player,c=e.firstMove,l=a-i.x,u=r-i.y;switch(o){default:break;case j:return n.isKingPattern({vectorX:l,vectorY:u});case"queen":return n.isBishopPattern({vectorX:l,vectorY:u})&&n.isBishopMoveFree({origin:i,destination:{x:a,y:r},vector:{x:l,y:u}})||n.isRookPattern({vectorX:l,vectorY:u})&&n.isRookMoveFree({origin:i,vector:{x:l,y:u}});case O:return n.isRookPattern({vectorX:l,vectorY:u})&&n.isRookMoveFree({origin:i,vector:{x:l,y:u}});case"knight":if(2===Math.abs(l)&&1===Math.abs(u)||1===Math.abs(l)&&2===Math.abs(u))return!0;break;case"bishop":return n.isBishopPattern({vectorX:l,vectorY:u})&&n.isBishopMoveFree({origin:i,destination:{x:a,y:r},vector:{x:l,y:u}});case"pawn":var d=s===S?-1:1;return n.isPawnMoving({x:a,y:r,vectorX:l,vectorY:u,firstMove:c,direction:d})||n.isPawnCapturing({x:a,y:r,vectorX:l,vectorY:u,direction:d})||n.isEnPassant({x:a,y:r,vectorX:l,vectorY:u,direction:d})}return!1})),se()(this,"isKingInCheck",(function(e){if(n.allowNoKing)return!1;var t=null,a=n.pieces.filter((function(e){return e.type===j&&e.player===n.currentPlayer&&(t=Oe({},e)),e.player!==n.currentPlayer})),r=e||t;return r?a.some((function(e){return n.isPiecePattern({destination:{x:r.x,y:r.y},origin:{x:e.x,y:e.y,id:e.id},type:e.type,player:e.player,firstMove:!1})})):(console.error("King not found?!"),!1)})),se()(this,"isGameEnd",(function(e){var t=e.player,a=void 0===t?n.currentPlayer:t;if(n.allowNoKing)return!1;var r=null,i=[],o=n.pieces.filter((function(e){return e.type===j&&e.player!==a&&(r=Oe({},e)),e.player===a||(i.push(e),!1)}));if(!r)return console.error("Opponent king not found?!"),!1;for(var s=9,c=!0,l=[],u=-1;u<=1;u++)for(var d=function(e){var t={x:r.x+u,y:r.y+e};if(t.x<0||t.y<0||t.x>7||t.y>7)return s--,"continue";var a=o.some((function(e){return n.isPiecePattern({destination:t,origin:{x:e.x,y:e.y,id:e.id},type:e.type,player:e.player,firstMove:!1})}));l.push(a),0===u&&0===e&&(c=!a)},p=-1;p<=1;p++)d(p);var m=l.reduce((function(e,t){return e+Number(t)}));return m===s?"checkmate":!(!c||m!==s-1)&&"draw"})),se()(this,"isLegalMove",(function(e){var t=e.destination,a=e.origin,r=e.type,i=e.player,o=e.firstMove;return n.isPiecePattern({destination:t,origin:a,type:r,player:i,firstMove:o})})),se()(this,"moveSelectedPiece",(function(e){var t=e.x,a=e.y,r=!1;if(n.gameEndedAt||!n.lastSessionTimeUpdate)return r;var i=null,o=null;if(!n.selected)return r;var s=n.selected,c=s.x,l=s.y,u=s.piece;if(!u)return n.select({x:t,y:a}),r;var d=[].concat(n.pieces),p=[].concat(n.removedPieces);if(n.pieces=n.pieces.map((function(e){if(e.x===c&&e.y===l&&e.id===u.id){if(n.isLegalMove({origin:{x:e.x,y:e.y,id:e.id},destination:{x:t,y:a},type:u.type,player:u.player,firstMove:u.firstMove})){var s=n.getPieceAt({x:t,y:a});if(s){if(u.player!==n.currentPlayer||s.player===u.player)return e;i=s}else if(u.player!==n.currentPlayer)return e;if(r=!0,n.select({x:t,y:a,piece:Oe({},e,{firstMove:!1})}),"pawn"===e.type&&e.firstMove){if(2===Math.abs(e.y-a)){var d=n.currentPlayer===S?a+1:a-1;n.enPassantTarget={x:t,y:d}}}else n.enPassantTarget&&(n.enPassantTarget=null);return"pawn"===e.type?n.halfmoveClock=0:n.halfmoveClock+=1,new Ee(Oe({},e,{x:t,y:a,firstMove:!1}))}if(e.canCastlePrerequisites){var p=t-e.x,m=a-e.y;n.isCastlePattern({vectorX:p,vectorY:m})&&(o=p)}return n.select({x:t,y:a}),e}return e})),i&&(n.halfmoveClock=0,n.removePiece(i)),n.isKingInCheck())return n.pieces=d,n.removedPieces=p,r=!1;var m=n.isGameEnd({});return m?(n.gameStatus=m,n.recordMove({piece:{id:u.id,type:u.type},from:{x:c,y:l},to:{x:t,y:a},endGame:m}),"draw"===m&&n.nextTurn(),n.gameEndedAt=le()(),r):o?n.performCastle({castleVectorX:o,selectedPiece:u,destination:{x:t,y:a},from:{x:c,y:l}}):(r&&(n.recordMove({piece:{id:u.id,type:u.type},from:{x:c,y:l},to:{x:t,y:a}}),n.nextTurn()),r)})),se()(this,"startArtificialIntelligenceTurn",(function(){if(D()&&"AI"===n.currentPlayerObject.control){var e=n.artificialIntelligenceStatus,t=e.initialized,a=e.gameReady;t&&a?(n.artificialIntelligenceStatus.computingNextMove=!0,setTimeout((function(){n.artificialIntelligence.computeNextMove(n.gameLog.pureAlgebraicNotation,n.fenString)}),1e3)):console.error("AI is not ready.")}})),se()(this,"handleArtificialIntelligenceEvent",(function(e){var t=n.artificialIntelligenceStatus,a=t.initialized,r=t.gameReady,i=t.queueSettingUpdate;switch(e.event){default:break;case"STOCKFISH_INIT":n.artificialIntelligenceStatus.initialized=!0;break;case"STOCKFISH_READY":a&&!r?(n.artificialIntelligenceStatus.gameReady=!0,n.startArtificialIntelligenceTurn()):r&&n.startArtificialIntelligenceTurn(),i&&(n.aiSettings=i,n.artificialIntelligenceStatus.queueSettingUpdate=[]);break;case"STOCKFISH_MOVE":if("AI"===n.currentPlayerObject.control){n.artificialIntelligenceStatus.computingNextMove=!1;var o=n.gameLog.parsePureAlgebraicNotationToMove(e.move),s=o.from,c=o.to;n.select({x:s.x,y:s.y}),n.moveSelectedPiece({x:c.x,y:c.y}),n.artificialIntelligenceViewEventHandler&&n.artificialIntelligenceViewEventHandler(Oe({},e,{from:s,to:c}))}}})),se()(this,"fenCastlingAvailability",(function(e){var t=[];return e.forEach((function(e){t[e.player]?t[e.player]=[].concat(v()(t[e.player]),[e]):t[e.player]=[e]})),t.map((function(e){for(var t=W({type:"king",player:e[0].player}),n=W({type:"queen",player:e[0].player}),a=!1,r=!1,i=!1,o=0;o<e.length;o++){var s=e[o];if(s.type===j&&(a=!0,!s.firstMove)){t="",n="";break}s.type===O&&(s.queenSide&&(r=!0,s.firstMove||(n="")),s.kingSide&&(i=!0,s.firstMove||(t="")))}return a?"".concat(i?t:"").concat(r?n:""):""})).join("")||"-"})),this.gameId=Object(f.a)(),this.gameStatus="ongoing",this.gameStartedAt=le()(),this.gameEndedAt=null,this.lastSessionTimeUpdate=le()(),this.totalTimePlayed=le.a.duration(le()().diff(le()()),"milliseconds"),this.currentTurn=0,this.pieces=[],this.removedPieces=[[],[]];var i=D();this.players=[{playerId:r,color:S,control:"Human"},{playerId:null,color:x,control:"Human"}],this.enPassantTarget=null,this.halfmoveClock=0,this.allowNoKing=!1,this.gameLog=new xe,this.artificialIntelligenceStatus={initialized:!1,gameReady:!1,queueSettingUpdate:[]},i&&(this.artificialIntelligenceViewEventHandler=a,this.artificialIntelligence=ke.init({eventHandler:this.handleArtificialIntelligenceEvent}))}return Q()(e,[{key:"setArtificialIntelligenceOption",value:function(e){return this.artificialIntelligence.setOption(e)}},{key:"setPlayerControl",value:function(e,t){if("AI"!==t)return this.players[e].control="Human",void(this.players[e].playerId=t);this.players[e].control="AI",this.players[e].playerId=null}},{key:"removePlayer",value:function(e){var t=this.players.map((function(t){return t.playerId!==e?Oe({},t):Oe({},t,{playerId:null,control:"Human"})}));this.players=v()(t)}},{key:"currentPlayer",get:function(){return this.currentTurn%2==0?S:x}},{key:"currentPlayerObject",get:function(){return this.players[this.currentPlayer]}},{key:"piecesSortedByRank",get:function(){return this.pieces.sort((function(e,t){return e.y>t.y?-1:e.y<t.y||e.x>t.x?1:e.x<t.x?-1:0}))}},{key:"fenString",get:function(){var e=[],t=this.piecesSortedByRank.map((function(t){return[O,j].includes(t.type)&&e.push(t),{fen:W(t),x:t.x,y:t.y}})),n={};t.forEach((function(e){n[e.y]?n[e.y]=[].concat(v()(n[e.y]),[e]):n[e.y]=[e]}));for(var a=[],r=function(e){var t=n[e];if(!t)return a.push("8"),"continue";var r="";t.forEach((function(e,n){var a=t[n-1],i=t[n+1],o=0,s=0;o=a?e.x-a.x-1:e.x,i||(s=7-e.x),r+=(o||"")+e.fen+(s||"")})),a.push(r)},i=0;i<=7;i++)r(i);var o=E[this.currentPlayer],s=this.fenCastlingAvailability(e),c="-";this.enPassantTarget&&(c=[String.fromCharCode(97+this.enPassantTarget.x),8-this.enPassantTarget.y].join(""));var l=Math.floor(this.currentTurn/2)+1;return[a.join("/"),o,s,c,this.halfmoveClock,l].join(" ")}},{key:"log",get:function(){return this.gameLog.movesAlgebraicNotation}},{key:"aiSettings",get:function(){return this.artificialIntelligence.options},set:function(e){var t=this;this.artificialIntelligenceStatus.initialized?e.map((function(e){return t.setArtificialIntelligenceOption(e)})):this.artificialIntelligenceStatus.queueSettingUpdate=e}}]),e}();function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Pe=function(){function e(){X()(this,e),se()(this,"connectionRetries",0),se()(this,"connectionOpened",!1)}return Q()(e,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.eventHandler;this.eventHandler=n;var a=new WebSocket(k);a.onopen=function(){return e.onOpen()},a.onclose=function(t){return e.onClose(t)},a.onmessage=function(t){return e.onMessage(t)},this.socket=a}},{key:"onOpen",value:function(){console.info("GameSocket server has opened the connection."),this.connectionRetries=0,this.sendMessage({event:"WEBSOCKET_EVENT_JOIN"})}},{key:"onClose",value:function(e){var t=this;switch(console.log("Connection to GameSocket server is closed.",{code:e.code}),e.code){default:return;case 1006:return void setTimeout((function(){if(t.connectionRetries<3)return console.log("Reconnecting to GameSocket..."),t.init({eventHandler:t.eventHandler}),void(t.connectionRetries+=1)}),1e3)}}},{key:"onMessage",value:function(e){if(this.eventHandler){var t=JSON.parse(e.data);this.eventHandler(t)}}},{key:"sendMessage",value:function(e){var t=JSON.stringify(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){se()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({gameId:this.gameId,playerId:this.playerId},e));this.socket.send(t)}}]),e}(),Le={pawn:function(e){var t=e.color1;e.color2;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45"},r.a.createElement("path",{d:"M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z ",style:{opacity:1,fill:t,fillOpacity:1,fillRule:"nonzero",stroke:"#000000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1}}))},bishop:function(e){var t=e.color1,n=e.color2;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45"},r.a.createElement("g",{style:{opacity:1,fill:"none",fillRule:"evenodd",fillOpacity:1,stroke:"#000000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1}},r.a.createElement("g",{style:{fill:t,stroke:"#000000",strokeLinecap:"butt"}},r.a.createElement("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z"}),r.a.createElement("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),r.a.createElement("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})),r.a.createElement("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:n,strokeLinejoin:"miter"}})))},knight:function(e){var t=e.color1,n=e.color2;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45"},r.a.createElement("g",{style:{fill:t,fillRule:"evenodd",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none"}},r.a.createElement("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:t,stroke:"black"===t?t:n}}),r.a.createElement("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:t,stroke:"black"===t?t:n}}),r.a.createElement("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:t,stroke:n}}),r.a.createElement("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:t,stroke:n}}),r.a.createElement("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:n,stroke:"black"===t?t:n,strokeWidth:.5}})))},rook:function(e){var t=e.color1,n=e.color2;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45"},r.a.createElement("g",{style:{fill:t,stroke:"black"===t?t:n,fillRule:"evenodd",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none"}},r.a.createElement("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),r.a.createElement("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),r.a.createElement("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),r.a.createElement("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),r.a.createElement("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),r.a.createElement("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),r.a.createElement("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:n,strokeWidth:1,strokeLinejoin:"miter"}}),r.a.createElement("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:n,strokeWidth:1,strokeLinejoin:"miter"}}),r.a.createElement("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:n,strokeWidth:1,strokeLinejoin:"miter"}}),r.a.createElement("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:n,strokeWidth:1,strokeLinejoin:"miter"}}),r.a.createElement("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:n,strokeWidth:1,strokeLinejoin:"miter"}})))},king:function(e){var t=e.color1,n=e.color2;return r.a.createElement("svg",{xmlns:"http: //www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45"},r.a.createElement("g",{xmlns:"http: //www.w3.org/2000/svg",style:{fill:t,fillRule:"evenodd",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none"}},r.a.createElement("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:n,stroke:t,strokeLinecap:"miter",strokeWidth:1}}),r.a.createElement("path",{d:"M 20,8 L 25,8",style:{fill:t,stroke:t,strokeLinecap:"miter"}}),r.a.createElement("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:se()({fill:t,stroke:"black"===t?t:n,strokeLinecap:"butt"},"strokeLinecap","miter")}),r.a.createElement("path",{d:"M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z ",style:{fill:t,stroke:n}}),r.a.createElement("path",{d:"M 11.5,30 C 17,27 27,27 32.5,30",style:{fill:t,stroke:n}}),r.a.createElement("path",{d:"M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5",style:{fill:t,stroke:n}}),r.a.createElement("path",{d:"M 11.5,37 C 17,34 27,34 32.5,37",style:{fill:t,stroke:n}})))},queen:function(e){var t=e.color1,n=e.color2;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45"},r.a.createElement("g",{style:{opacity:1,fill:t,fillOpacity:1,fillRule:"evenodd",stroke:t,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:4,strokeDasharray:"none",strokeOpacity:1}},r.a.createElement("g",{style:{fill:t,stroke:"black"===t?t:n}},r.a.createElement("circle",{cx:"6",cy:"12",r:"2.75"}),r.a.createElement("circle",{cx:"14",cy:"9",r:"2.75"}),r.a.createElement("circle",{cx:"22.5",cy:"8",r:"2.75"}),r.a.createElement("circle",{cx:"31",cy:"9",r:"2.75"}),r.a.createElement("circle",{cx:"39",cy:"12",r:"2.75"})),r.a.createElement("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",stroke:"black"===t?t:n}}),r.a.createElement("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z",style:{strokeLinecap:"butt",stroke:"black"===t||"black"===t?t:n}}),r.a.createElement("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{file:t,stroke:t,strokeLinecap:"butt"}}),r.a.createElement("path",{d:"M 11,29 A 35,35 1 0 1 34,29",style:{file:t,stroke:n}}),r.a.createElement("path",{d:"M 12.5,31.5 L 32.5,31.5",style:{file:t,stroke:n}}),r.a.createElement("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5",style:{file:t,stroke:n}}),r.a.createElement("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5",style:{file:t,stroke:n}})))}},Me=n(24),Te=n.n(Me),Ne=function(e){return r.a.createElement("input",Te()({type:"range"},e))},Ae=function(e){return r.a.createElement("input",Te()({type:"checkbox"},e))},_e=function(e){var t=e.children,n=de()(e,["children"]);return r.a.createElement("button",n,t)},Ge=[{name:"Dark",evenSquareBackground:"rgb(210, 210, 210)",oddSquareBackground:"rgb(150, 150, 150)",background1:"rgb(40, 40, 40)",background2:"rgb(118, 118, 118)",color1:"rgb(210, 210, 210)",color2:"rgb(250, 250, 250)",link:{normal:"rgb(180, 186, 228)"}},{name:"Light",evenSquareBackground:"rgb(210, 210, 210)",oddSquareBackground:"rgb(150, 150, 150)",background1:"rgb(240, 240, 240)",background2:"rgb(118, 118, 118)",color1:"rgb(30, 30, 30)",color2:"rgb(250, 250, 250)",link:{normal:"rgb(44, 56, 135)"}}];function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){se()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var We=function(e){function t(e){var n;X()(this,t),n=$()(this,te()(t).call(this,e)),se()(ae()(n),"loadGame",_()(N.a.mark((function e(){var t,a,r,i,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.props.gameId){e.next=5;break}return e.next=3,V([{name:"fileId",value:n.props.gameId}]);case 3:(t=e.sent)&&t.gameData?((a=n.state.gameState).import(t.gameData),a.resume(),n.setState({gameState:a,oid:t.oid})):(console.error("Game not found. New game created instead."),r=n.state,i=r.gameState,o=r.gameSocket,i.newGame({gameId:n.props.gameId}),o.gameId=n.props.gameId,o.playerId=n.props.userId,n.updateGameState(i),n.props.history.replace({pathname:"/game/".concat(i.gameId),newGame:!0}));case 5:case"end":return e.stop()}}),e)})))),se()(ae()(n),"saveGame",_()(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V([{name:"fileId",value:n.state.gameState.gameId},{name:"content",value:gameState.export()},{name:"oid",value:n.state.oid?n.state.oid:""}],"post");case 2:(t=e.sent)&&t.oid&&n.setState({oid:t.oid});case 4:case"end":return e.stop()}}),e)})))),se()(ae()(n),"saveGameOnArtificialIntelligenceMove",(function(e){"STOCKFISH_MOVE"===e.event&&(n.saveGame(),n.handleSelectWithWebsocket(e.from),n.handleSelectWithWebsocket(e.to))})),se()(ae()(n),"updateGameState",(function(e){e?n.setState({gameState:e}):console.error("Can't update gameState: object is falsy.")})),se()(ae()(n),"sendWebSocketAIOptionUpdate",(function(e){n.state.gameSocket.sendMessage(ze({event:"WEBSOCKET_EVENT_SET_ARTIFICIAL_INTELLIGENCE_OPTION"},e))})),se()(ae()(n),"handleWebSocketMessage",(function(e){if(e.playerId!==n.props.userId)switch(e.event){default:return void console.error("Unhandled payload",{payload:e});case"WEBSOCKET_EVENT_JOIN":return void n.handleJoin(e);case"WEBSOCKET_EVENT_DISCONNECTED":var t=n.state.gameState;return t.removePlayer(e.playerId),n.updateGameState(t),void n.removeSpectator(e.playerId);case"WEBSOCKET_EVENT_SELECT":var a=e.x,r=e.y;return void n.handleSelect({x:a,y:r});case"WEBSOCKET_EVENT_SET_OPTION":var i=e.name,o=e.value;return void n.handleSetOption({name:i,value:o});case"WEBSOCKET_EVENT_SET_ARTIFICIAL_INTELLIGENCE_OPTION":var s=e.name,c=e.value;return void n.handleSetAIOption({name:s,value:c})}})),se()(ae()(n),"handleSetOption",(function(e){var t=n.state,a=t.gameState,r=t.spectators,i=e.value,o=a.players[i.colorIndex].playerId;a.setPlayerControl(i.colorIndex,i.playerId),n.updateGameState(a);var s=a.players;r.includes(i.playerId)&&n.removeSpectator(i.playerId),o&&!s.map((function(e){return e.playerId})).includes(o)&&n.addSpectator(o)})),se()(ae()(n),"handleSetAIOption",(function(e){var t=e.name,a=e.value;n.state.gameState.setArtificialIntelligenceOption({name:t,value:a})})),se()(ae()(n),"handleSelect",(function(e){var t=e.x,a=e.y,r=n.state.gameState,i=r.selected;if(i)if(i.x===t&&i.y===a)r.unselect();else if(i.piece){r.moveSelectedPiece({x:t,y:a})?n.saveGame():r.select({x:t,y:a})}else r.select({x:t,y:a});else r.select({x:t,y:a});window.gameState=r,n.updateGameState(r)})),se()(ae()(n),"handleSelectWithWebsocket",(function(e){var t=e.x,a=e.y;n.handleSelect({x:t,y:a});var r=n.state,i=r.gameSocket;r.gameState;i.sendMessage({event:"WEBSOCKET_EVENT_SELECT",x:t,y:a})})),se()(ae()(n),"toggleSettingsMenu",(function(e){n.setState({settingsOpened:e,aiSettingsOpened:!1}),e?gameState.pause():gameState.resume(),gameState.unselect(),n.updateGameState(gameState)})),se()(ae()(n),"toggleAISettingsMenu",(function(e){n.setState({aiSettingsOpened:e,settingsOpened:!1}),e?gameState.pause():gameState.resume(),gameState.unselect(),n.updateGameState(gameState)})),se()(ae()(n),"exportGame",(function(){var e="chess-".concat(gameState.gameId,"-").concat(le()().format("YYYY-MM-DD-HH-mm-ss")),t=prompt("Enter a name for your saved game.",e);if(t){var n=gameState.export(),a=new Blob([n],{type:"application/json"}),r=document.createElement("a");r.download=t,r.href=URL.createObjectURL(a),r.click()}})),se()(ae()(n),"handleImportGame",(function(){document.getElementById("load-file-input").click()})),se()(ae()(n),"importGame",function(){var e=_()(N.a.mark((function e(t){var a,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],e.next=3,a.text();case 3:r=e.sent,gameState.import(r),n.updateGameState(gameState);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),se()(ae()(n),"renderPieceIcon",(function(e){var t=e.type,n=e.player;if(!t)return null;var a=Le[t];return a?r.a.createElement(it,{title:t},r.a.createElement(a,{color1:n?"black":"white",color2:n?"white":"black"})):t})),se()(ae()(n),"renderGameStats",(function(){var e=n.state.gameState;return r.a.createElement(He,null,r.a.createElement(Re,{player:e.currentPlayer},e.currentPlayer?"Black":"White"),r.a.createElement(Be,null,"⏱️"," ",e.totalTimePlayed.format("hh:mm:ss",{trim:!1})),r.a.createElement(Ke,{open:n.state.settingsOpened,onClick:function(){return n.toggleSettingsMenu(!n.state.settingsOpened)}},"⚙️"),n.state.gameState.artificialIntelligenceStatus.initialized&&r.a.createElement(Ke,{open:n.state.aiSettingsOpened,onClick:function(){return n.toggleAISettingsMenu(!n.state.aiSettingsOpened)}},"🤖"))})),se()(ae()(n),"renderSettingsMenu",(function(){if(n.state.settingsOpened){var e=[].concat(v()(n.state.gameState.players.filter((function(e){return e.playerId})).map((function(e){return{value:e.playerId,colorIndex:e.color,role:w[e.color]}}))),v()(n.state.spectators.map((function(e){return{value:e,role:"spectator"}})))),t=function(t,a){return a.colorIndex===t||1===e.filter((function(e){return void 0!==e.colorIndex})).length||n.state.gameState.players[0].playerId===n.state.gameState.players[1].playerId&&0===n.state.spectators.length?"":"".concat(a.role,": ")},a=function(t,a){return a.value===n.props.userId?0===n.state.spectators.length&&1===e.filter((function(e){return void 0!==e.colorIndex})).length||n.state.gameState.players[0].playerId===n.state.gameState.players[1].playerId&&0===n.state.spectators.length?"Human":"You":a.value};return r.a.createElement("div",null,r.a.createElement(Ue,null,r.a.createElement(Fe,null,w.map((function(i,o){return r.a.createElement(Qe,{key:i},r.a.createElement("span",null,i,":")," ",r.a.createElement(Ze,{value:n.state.gameState.players[o].playerId||n.state.gameState.players[o].control,onChange:function(e){var t=e.target.value,a=n.state.gameState.players[o].playerId;n.state.gameState.setPlayerControl(o,t),n.updateGameState(n.state.gameState);var r=n.state.gameState.players;n.state.spectators.includes(t)&&n.removeSpectator(t),a&&!r.map((function(e){return e.playerId})).includes(a)&&n.addSpectator(a),n.handleUpdateOptionWithWebsocket({name:"setPlayerControl",value:{colorIndex:o,playerId:t}})}},[].concat(v()(v()(e).map((function(e){return{value:e.value,text:"".concat(t(o,e)).concat(a(0,e))}})).reduce((function(e,t){return e.map((function(e){return e.text})).includes(t.text)?e:[].concat(v()(e),[t])}),[])),["AI"])))})),r.a.createElement(Qe,null,r.a.createElement("span",null,"Time limit:")," None"),r.a.createElement(Qe,null,r.a.createElement("span",null,"Offline mode:")," Disabled"),r.a.createElement(Qe,null,r.a.createElement("span",null,"Theme:")," ",r.a.createElement(Ze,{value:n.props.themeIndex,onChange:function(e){var t=e.target.value;return n.props.setThemeIndex(t)}},v()(Ge.map((function(e,t){return{value:t,text:e.name}}))))),r.a.createElement(Je,null,r.a.createElement(_e,{onClick:n.exportGame},"Export Game"),r.a.createElement(_e,{onClick:n.handleImportGame},"Import Game")))),r.a.createElement(ot,{onChange:n.importGame,accept:"application/json"}))}return null})),se()(ae()(n),"renderAISettingsMenu",(function(){if(n.state.gameState.artificialIntelligenceStatus.initialized)return n.state.aiSettingsOpened?r.a.createElement("div",null,r.a.createElement(qe,null,r.a.createElement(Ye,null,gameState.aiSettings.map((function(e){var t=e.name,a=e.value,i=e.type,o=e.min,s=e.max,c=e.select,l=r.a.createElement("span",null,t.replace(/_/g," "),":"),u=String(a);switch(i){default:break;case"check":u=r.a.createElement("span",null,r.a.createElement(Ae,{onChange:function(){n.state.gameState.setArtificialIntelligenceOption({name:t,value:!a}),n.sendWebSocketAIOptionUpdate({name:t,value:!a})},checked:a})," ",a?"Enabled":"Disabled");break;case"spin":u=r.a.createElement(Ne,{onChange:function(e){var a=e.target.value,r=n.state.gameState,i=Math.floor(a);r.setArtificialIntelligenceOption({name:t,value:i}),n.sendWebSocketAIOptionUpdate({name:t,value:i})},value:a,min:o,max:s});break;case"combo":u=r.a.createElement(Ze,{onChange:function(e){var a=e.target.value;n.state.gameState.setArtificialIntelligenceOption({name:t,value:a}),n.sendWebSocketAIOptionUpdate({name:t,value:a})},value:a},c)}return r.a.createElement(Qe,{key:t},l,u)}))))):null})),se()(ae()(n),"renderGraveyard",(function(e){return n.state.gameState.removedPieces[e].map((function(e){return r.a.createElement(tt,{key:e.id},n.renderPieceIcon(e))}))})),se()(ae()(n),"renderSquares",(function(){for(var e=n.state.gameState,t=[],a=0;a<=9;a++)for(var i=0;i<=9;i++)0===i&&0===a||9===i&&9===a||9===i&&0===a||0===i&&9===a?t.push(r.a.createElement(rt,{key:"".concat(i,"-").concat(a)})):0===i?t.push(r.a.createElement(rt,{key:"".concat(i,"-").concat(a),border:"right"},9-a)):9===i?t.push(r.a.createElement(rt,{key:"".concat(i,"-").concat(a),border:"left"},9-a)):0===a?t.push(r.a.createElement(rt,{key:"".concat(i,"-").concat(a),border:"bottom"},String.fromCharCode(96+i))):9===a?t.push(r.a.createElement(rt,{key:"".concat(i,"-").concat(a),border:"top"},String.fromCharCode(96+i))):function(){var o=i-1,s=a-1,c=e.getPieceAt({x:o,y:s});t.push(r.a.createElement(at,{key:"".concat(i,"-").concat(a),even:(i+a)%2==0,player:c&&c.player,onClick:function(){return n.handleSelectWithWebsocket({x:o,y:s,piece:c})},selected:e.isSelectedSquare({x:o,y:s})},n.renderPieceIcon(ze({},c))))}();return t})),se()(ae()(n),"renderLog",(function(){if(n.state.gameState.log.length)return r.a.createElement(st,null,n.state.gameState.log.map((function(e){var t=e.id,a=e.string,i=e.piece,o=e.player,s=e.endGame;return r.a.createElement(ct,{key:t},r.a.createElement(lt,null,n.renderPieceIcon(ze({},i,{player:o}))),a,s&&"X")})))}));var a="UNKNOWN";a=e.gameData?"LOCAL":e.gameId&&"new"!==e.gameId?"REMOTE":"NEW";var i=null;switch(i=new Ie("NEW"===a?{artificialIntelligenceViewEventHandler:n.saveGameOnArtificialIntelligenceMove,firstPlayerId:e.userId}:{artificialIntelligenceViewEventHandler:n.saveGameOnArtificialIntelligenceMove}),a){default:console.error("Unhandled entrypoint: ".concat(a));break;case"NEW":n.props.history.replace({pathname:"/game/".concat(i.gameId)}),i.newGame();break;case"LOCAL":i.import(e.gameData),i.resume(),n.props.history.replace("/game/".concat(i.gameId));break;case"REMOTE":n.loadGame()}var o=new Pe;o.init({eventHandler:n.handleWebSocketMessage}),o.gameId=e.gameId,o.playerId=e.userId,n.state={gameState:i,gameSocket:o,settingsOpened:!1,aiSettingsOpened:!1,offlineMode:!1,spectators:[]},window.gameState=i;var s=z(),c=s.name,l=s.version,u=s.repository,d=s.author;return console.log("".concat(c," v").concat(l," by ").concat(d)),console.log("repository: ".concat(u)),console.log("game entrypoint: ".concat(a)),n}return ie()(t,e),Q()(t,[{key:"componentDidMount",value:function(){var e=this,t=!1;setInterval((function(){if(e.state.gameState.gameEndedAt)t||(t=!0,e.updateGameState(gameState));else{var n=e.state.gameState;n.updateTimePlayed(),e.updateGameState(n)}}),1e3)}},{key:"handleJoin",value:function(e){var t=e.player1,n=e.player2,a=e.spectators,r=this.state.gameState,i=r.players,o=!1,s=v()(i);t!==i[0].playerId&&(s[0]=ze({},i[0],{playerId:t}),o=!0),n!==i[1].playerId&&(s[1]=ze({},i[1],{playerId:n}),o=!0),a!==this.state.spectators&&this.setState({spectators:a}),o&&(r.players=v()(s),this.updateGameState(r))}},{key:"removeSpectator",value:function(e){var t=v()(this.state.spectators).filter((function(t){return t!==e}));t.length!==this.state.spectators.length&&this.setState({spectators:t})}},{key:"addSpectator",value:function(e){var t=[].concat(v()(this.state.spectators),[e]);this.setState({spectators:t})}},{key:"handleUpdateOptionWithWebsocket",value:function(e){var t=e.name,n=e.value;this.state.gameSocket.sendMessage({event:"WEBSOCKET_EVENT_SET_OPTION",name:t,value:n})}},{key:"render",value:function(){return r.a.createElement(Ve,null,this.renderGameStats(),this.renderSettingsMenu(),this.renderAISettingsMenu(),r.a.createElement($e,null,r.a.createElement(et,null,this.renderGraveyard(0)),r.a.createElement(nt,null,this.renderSquares()),r.a.createElement(et,null,this.renderGraveyard(1)),this.renderLog()))}}]),t}(a.Component),Ve=m.c.div.withConfig({displayName:"GameView__View",componentId:"sc-1r250k0-0"})(["display:flex;justify-content:center;flex-direction:column;align-items:center;min-height:100vh;user-select:none;color:",";"],(function(e){return e.theme.color1})),He=m.c.div.withConfig({displayName:"GameView__GameStats",componentId:"sc-1r250k0-1"})(["display:flex;justify-content:center;align-items:center;text-align:center;font-family:sans-serif;letter-spacing:1px;flex-wrap:wrap;margin:10px;padding:10px;border-radius:5px;background:",";color:",";min-height:40px;box-sizing:border-box;font-size:18px;"],(function(e){return e.theme.background2}),(function(e){return e.theme.color2})),Re=m.c.div.withConfig({displayName:"GameView__CurrentPlayer",componentId:"sc-1r250k0-2"})(["text-transform:uppercase;font-weight:bold;color:",";width:60px;margin-left:11px;margin-right:20px;"],(function(e){return e.player?"black":"white"})),Be=m.c.div.withConfig({displayName:"GameView__TimePlayed",componentId:"sc-1r250k0-3"})(["background:hsla(200,40%,60%,80%);padding:4px 8px;border-radius:4px;"]),Ke=m.c.button.withConfig({displayName:"GameView__OpenSettings",componentId:"sc-1r250k0-4"})(["font-size:14px;margin-left:10px;box-sizing:border-box;padding:2px;cursor:pointer;background:none;border:none;--bg:rgba(0,0,0,0.5);border-bottom:2px solid var(--bg);&:hover{--bg:red;}",""],(function(e){return e.open&&"--bg: red;"})),Ue=m.c.div.withConfig({displayName:"GameView__SettingsMenuAnchor",componentId:"sc-1r250k0-5"})(["margin-left:-117px;"]),qe=m.c.div.withConfig({displayName:"GameView__AISettingsMenuAnchor",componentId:"sc-1r250k0-6"})(["margin-left:-197px;"]),Fe=m.c.div.withConfig({displayName:"GameView__SettingsMenu",componentId:"sc-1r250k0-7"})(["width:240px;position:absolute;margin-top:-10px;padding:10px;background:",";opacity:0.95;color:",";border:1px solid black;z-index:1;"],(function(e){return e.theme.background2}),(function(e){return e.theme.color2})),Ye=Object(m.c)(Fe).withConfig({displayName:"GameView__AISettingsMenu",componentId:"sc-1r250k0-8"})(["width:320px;"]),Xe="\n    display: flex;\n    justify-content: space-between;\n    text-transform: capitalize;\n    cursor: pointer;\n    font-family: sans-serif;\n    padding: 2px;\n",Je=m.c.div.withConfig({displayName:"GameView__SettingsItemBase",componentId:"sc-1r250k0-9"})([""," justify-content:space-around;"],Xe),Qe=m.c.label.withConfig({displayName:"GameView__SettingsItem",componentId:"sc-1r250k0-10"})([""," &:hover{background:lightblue;color:black;}"],Xe),Ze=Object(m.c)((function(e){var t=e.children,n=de()(e,["children"]);return r.a.createElement("select",n,t&&t.map((function(e){return r.a.createElement("option",{key:e&&void 0!==e.text?e.text:void 0!==e.value?e.value:e,value:e&&void 0!==e.value?e.value:e},e&&void 0!==e.text?e.text:void 0!==e.value?e.value:e)})))})).withConfig({displayName:"GameView__SettingDropdown",componentId:"sc-1r250k0-11"})(["width:130px;"]),$e=m.c.div.withConfig({displayName:"GameView__Wrapper",componentId:"sc-1r250k0-12"})(["display:flex;flex-direction:column;align-items:center;"]),et=m.c.div.withConfig({displayName:"GameView__Graveyard",componentId:"sc-1r250k0-13"})(["width:95%;display:flex;flex-wrap:wrap;min-height:4vw;background:rgba(118,118,118,0.5);padding:1vh;border:1px solid black;@media screen and (orientation:landscape){min-height:4vh;}"]),tt=m.c.div.withConfig({displayName:"GameView__Tomb",componentId:"sc-1r250k0-14"})(["width:4vw;@media screen and (orientation:landscape){width:4vh;}"]),nt=m.c.div.withConfig({displayName:"GameView__Board",componentId:"sc-1r250k0-15"})(["display:grid;grid-template:repeat(10,calc(96vw / 10)) / repeat(10,calc(96vw / 10));@media screen and (orientation:landscape){grid-template:repeat(10,calc((80vh - 5rem) / 10)) / repeat(10,calc((80vh - 5rem) / 10));}"]),at=m.c.div.withConfig({displayName:"GameView__Square",componentId:"sc-1r250k0-16"})(["background:",";color:",";text-shadow:0 0 2px ",";display:flex;justify-content:center;align-items:center;overflow:hidden;"],(function(e){return e.selected?"green":e.even?e.theme.evenSquareBackground:e.theme.oddSquareBackground}),(function(e){return e.player?"black":"white"}),(function(e){return e.player?"white":"black"})),rt=m.c.div.withConfig({displayName:"GameView__Side",componentId:"sc-1r250k0-17"})(["display:flex;justify-content:center;align-items:center;font-family:monospace;opacity:0.8;"," font-size:14px;"],(function(e){return e.border?"border-".concat(e.border,": 1px solid black;"):null})),it=m.c.div.withConfig({displayName:"GameView__IconContainer",componentId:"sc-1r250k0-18"})(["svg{width:100%;height:100%;}"]),ot=m.c.input.attrs({type:"file",id:"load-file-input"}).withConfig({displayName:"GameView__HiddenFileLoader",componentId:"sc-1r250k0-19"})(["display:none;"]),st=m.c.div.withConfig({displayName:"GameView__Log",componentId:"sc-1r250k0-20"})(["margin-top:2.5rem;margin-bottom:1rem;width:95%;display:flex;flex-wrap:wrap;flex-direction:column;align-items:space-between;background:rgb(118,118,118);padding:10px;border:1px solid black;max-height:35vh;@media screen and (orientation:landscape){max-height:35vw;}"]),ct=m.c.div.withConfig({displayName:"GameView__LogEntry",componentId:"sc-1r250k0-21"})(["display:flex;align-items:center;padding:0.05rem;"]),lt=m.c.div.withConfig({displayName:"GameView__LogIconContainer",componentId:"sc-1r250k0-22"})(["width:2.75vh;"]);function ut(){var e=c()(["\n    body {\n        margin: 0;\n        background: ",";\n    }\n\n    a {\n        text-decoration: none;\n        color: ",";\n    }\n"]);return ut=function(){return e},e}var dt=Object(m.b)(ut(),(function(e){return e.theme.background1}),(function(e){return e.theme.link.normal}));o.a.render(r.a.createElement((function(){var e=Object(a.useState)(0),t=u()(e,2),n=t[0],i=t[1],o=Object(a.useState)(Object(f.a)()),s=u()(o,1)[0];return r.a.createElement(m.a,{theme:Ge[n]},r.a.createElement("div",null,r.a.createElement(dt,null),r.a.createElement(p.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/game/:gameId",render:function(e){return r.a.createElement(We,{userId:s,gameData:y&&"undefined"!=typeof DEBUG_GAME&&DEBUG_GAME,gameId:e.match.params.gameId,history:e.history,location:e.location,themeIndex:n,setThemeIndex:i})}}),r.a.createElement(d.a,{path:"/",render:function(){return r.a.createElement(B,{userId:s})}})))))}),null),document.getElementById("app"))},20:function(e){e.exports=JSON.parse('{"b":"chess","d":"1.1.6","a":"Yves Gurcan","c":{"type":"git","url":"https://github.com/yvesgurcan/chess-client"}}')}},[[190,1,2]]]);